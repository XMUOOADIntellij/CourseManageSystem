<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/common/style.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="../../static/css/teacher/courseManagement.css"/>
    <script src="../../static/js/jquery-1.10.2.js"></script>

  <!--  <script src="../../static/js/teacher.js"></script>-->
</head>
<!--<body onload="getCourseList()">-->
<body>
<div class="topBar">
    <div class="content-icon" onclick="goBack()">
        <img alt="" class="icon" src="../../static/img/Left_white.png"/>
    </div>
    <div class="content text text-light">课程管理</div>
    <div class="content-icon" id="myReturn">
        <img alt="" class="icon" src="../../static/img/Add_white.png"/>
    </div>
</div>
<div class="card" id="OOAD">
    <div class="card-head">
        <span class="card-head-content text-large text-light">OOAD(主)</span>
        <div class="content-icon">
            <img alt="" class="icon" src="../../static/img/Right_white.png"/>
        </div>
    </div>
    <div class="panel">
        <div class="card-head card-head-secondary" onclick="onStuGrade()">
            <span class="card-head-content text">学生成绩</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onTeam()">
            <span class="card-head-content text">学生组队</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onCourseInfo()">
            <span class="card-head-content text">课程信息</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onClassInfo()">
            <span class="card-head-content text">班级信息</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onSemRound()">
            <span class="card-head-content text">讨论课轮次</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onShareSet()">
            <span class="card-head-content text">共享设置</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
    </div>
</div>
<div class="card" id="J2EE">
    <div class="card-head">
        <span class="card-head-content text-large text-light">J2EE</span>
        <div class="content-icon">
            <img alt="" class="icon" src="../../static/img/Right_white.png"/>
        </div>
    </div>
    <div class="panel">
        <div class="card-head card-head-secondary" onclick="onStuGrade()">
            <span class="card-head-content text">学生成绩</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onTeam()">
            <span class="card-head-content text">学生组队</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onCourseInfo()">
            <span class="card-head-content text">课程信息</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onClassInfo()">
            <span class="card-head-content text">班级信息</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onSemRound()">
            <span class="card-head-content text">讨论课轮次</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
        <div class="separator-dark">
        </div>
        <div class="card-head card-head-secondary" onclick="onShareSet()">
            <span class="card-head-content text">共享设置</span>
            <div class="content-icon">
                <img alt="" class="icon" src="../../static/img/Right_black.png"/>
            </div>
        </div>
    </div>
</div>
<div class="card" id="cardadd">
    <div class="card-head" id="btnAddCourse" onclick="addCourse()">
        <span class="card-head-content text-large text-light">新建课程</span>
        <div class="content-icon">
            <img alt="" class="icon" src="../../static/img/Add_circle_outline_white.png"/>
        </div>
    </div>
</div>
</body>
<script>
    var acc = document.getElementsByClassName("card-head");
    for (var i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block") {
                panel.style.display = "none";
                $(this).find('.content-icon').children('img').attr('src', '../../static/img/Right_white.png');
            } else {
                panel.style.display = "block";
                $(this).find('.content-icon').children('img').attr('src', '../../static/img/Up_white.png');
            }
        });
    }
    function goBack() {
        window.location.href="4-teacherHome.html";//test
    }
    function addCourse() {
        window.location.href = "4-2-1-createCourse.html";//test
    }
    function onStuGrade() {
    	var currentCourse = $(this).parent().parent().attr('id').toString();
        updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-2-studentScore.html";//test
    }
    function onTeam() {
		var currentCourse = $(this).parent().parent().attr('id').toString();
		updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-2-studentGroup.html";//test
    }
    function onShareSet() {
		var currentCourse = $(this).parent().parent().attr('id').toString();
		updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-6-shareInfo.html";//test
    }
    function onCourseInfo() {
		var currentCourse = $(this).parent().parent().attr('id').toString();
		updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-4-courseInfo.html";//test
    }
    function onClassInfo() {
		var currentCourse = $(this).parent().parent().attr('id').toString();
		updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-5-classInfo.html";//test
    }
    function onSemRound() {
		var currentCourse = $(this).parent().parent().attr('id').toString();
		updateCookie("curCourse", currentCourse);
        window.location.href = "4-2-1-createCourse.html";//test
    }
    function getCourseList() {
        $.ajax({
            type: 'get',
            url: '',
            dataType: "json",
            contentType: "application/json;",
            success: function (data, textStatus, xhr) {
                if (xhr.status === 200) {
                    var content = document.getElementById("topbar");
                    var strVar = "";
                    for (var i = 0; i < data.length; i++) {
                        strVar +=
                            "<div class=\"card\" id=\"" + data[i].name + "\"><div class=\"card-head\"><span class=\"card-head-content text-large text-light\">" + data[i].name + "<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_white.png\"><\/div><\/div><div class=\"panel\"><div class=\"card-head card-head-secondary\" onclick=\"onStuGrade()\"><span class=\"card-head-content text\">学生成绩<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div><div class=\"separator-dark\"><\/div><div class=\"card-head card-head-secondary\" onclick=\"onTeam()\"><span class=\"card-head-content text\">学生组队<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div><div class=\"separator-dark\"><\/div><div class=\"card-head card-head-secondary\" onclick=\"onCourseInfo()\"><span class=\"card-head-content text\">课程信息<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div><div class=\"separator-dark\"><\/div><div class=\"card-head card-head-secondary\" onclick=\"onClasInfo()\"><span class=\"card-head-content text\">班级信息<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div><div class=\"separator-dark\"><\/div><div class=\"card-head card-head-secondary\" onclick=\"onSemRound()\"><span class=\"card-head-content text\">讨论课轮次<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div>";
                        if (data[i].isShare == true)
                            strVar += "<div class=\"separator-dark\"><\/div><div class=\"card-head card-head-secondary\" onclick=\"onShareSet()\"><span class=\"card-head-content text\">共享设置<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Right_black.png\"><\/div><\/div><\/div><\/div>";
                        else
                            strVar += "<\/div><\/div>";
                    }
                    strVar += "<div class=\"card\" id=\"cardadd\"><div class=\"card-head\" id=\"btnAddCourse\"><span class=\"card-head-content text-large text-light\">新建课程<\/span><div class=\"content-icon\"><img alt=\"\" class=\"icon\" src=\"../../static/img/Add_circle_outline_white.png\"><\/div><\/div><\/div>";
                    content.insertAdjacentHTML('afterend', strVar);
                }
            },
            statusCode: {
                401: function () {//statuscode unknown
                    alert("获取信息失败");
                }
            }
        })
    }
</script>
</html>